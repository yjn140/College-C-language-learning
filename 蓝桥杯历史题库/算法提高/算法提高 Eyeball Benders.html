<head>
    <meta charset="UTF-8">
<title>算法提高 Eyeball Benders</title>
<link rel="stylesheet" href="../css/main.css">
</head>
 <p>【问题描述】<br />
&quot;眼球风暴&quot;是当下非常流行的一个游戏。在这个游戏中，玩家需要从一张近视图中识别出图中的物体是什么。比如，一张看起来像是锥形蜡笔的图可能是一个新开的蜡笔盒的图的一部分。下图展示了一个例子，左边的是给出的谜题，而右边则是解答。</p>
<p><img src="http://lx.lanqiao.cn/RequireFile.do?fid=rjT7YaTj" width="585" height="284" alt="" /></p>
<p>图1，一个&ldquo;眼球风暴&rdquo;的给出的谜题和解答。（软盘）</p>
<p>你需要做的事是检验一个简化的&ldquo;眼球风暴&rdquo;的问题。我们会给你两张图，每张图都是一些线段的集合，且每条线段都是垂直于坐标轴的，并且每条线段都包括它的两个端点。</p>
<p>你需要确定第一张图是不是第二张图的某个部分的放大图。所有的线段都被认为是无宽度的。你需要保证，在第一张图中某条线段的端点在放大前一定是第二张图中某条线段的端点。</p>
<p><img src="http://lx.lanqiao.cn/RequireFile.do?fid=EFDLdFGH" width="621" height="286" alt="" /></p>
<p>图2，第一张图是第二张图中画虚线区域放大三倍后的图。</p>
<p>坐标的单位和比例在同一张图内是一样的。一张图内的单位和比例不一定和另外一张图是一样的。第一张图的大小至少应该是原图中该部分的1倍。对于图2，你应该判定第一张图是第二张图的一部分。<br />
【输入格式】<br />
第一行有两个整数N、M，分别代表第一张图中的线段数量和第二张图中的线段数量。</p>
<p>接下来4*(N+M)个实数，每四个数分别代表一条线段的两个端点的坐标。前4*N个实数代表第一张图的N条线段，剩下的数代表第二张图的M条线段。所有的实数不会超过三位小数。所有的线段长度至少为0.005，线段之间不会覆盖只会相交。数据保证给出的N条线段不同向的线段间至少有一个交点。<br />
【输出格式】<br />
如果第一张图能够在第二张图中找到并且满足上述所有要求，那么输出&ldquo;valid puzzle&rdquo;，否则输出&ldquo;impossible&rdquo;。数据保证如果第一张图在第二张图中能够被找到，那么不被包括在答案矩形中的线段至少距离矩形0.005。<br />
【样例输入】</p>
<p>&nbsp;</p>
<p>3 12</p>
<p>9 8 7.5 8 1.5 8 1.5 3.5&nbsp;</p>
<p>0 5 9 5</p>
<p>4 2 8 2 5 7 2 7 10 6 8 6 8 7 8 4 &nbsp;</p>
<p>1 9 8 9</p>
<p>9 3 7 3 4 10 4 5&nbsp;</p>
<p>4 2 4 4 5 8 5 7 3 6 6 6 0 3 3 3 5 1 5 3</p>
<div>&nbsp;</div>
<p>【样例输出】<br />
valid puzzle<br />
【数据规模和约定】</p>
<p>对于20%的数据，N,M&lt;=5。</p>
<p>对于40%的数据，N,M&lt;=20。<br />
对于100%的数据，N,M&lt;=50，坐标范围在-1000到1000之间。</p>