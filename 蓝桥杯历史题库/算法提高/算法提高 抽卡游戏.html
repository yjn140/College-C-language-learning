<head>
    <meta charset="UTF-8">
<title>算法提高 抽卡游戏</title>
<link rel="stylesheet" href="../css/main.css">
</head>
 <p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">某个抽卡游戏卡池抽出限定卡的概率为</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">p</span><span style="font-size: 12pt;">，该游戏有一个“井”的机制，抽满</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">k</span><span style="font-size: 12pt;">次卡后直接送这张限定卡。试求获得这张限定卡需要的期望抽卡次数。输入为一行，用空格隔开的</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">p</span><span style="font-size: 12pt;">和</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">k</span><span style="font-size: 12pt;">。输出为一行，即期望抽卡次数，取</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">2</span><span style="font-size: 12pt;">位小数</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">样例输入：</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">0.005 250<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">&nbsp;</span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">样例输出：</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">142.88<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">&nbsp;</span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">样例解释：</span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;"><br></span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">第</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">1</span><span style="font-size: 12pt;">次抽到的概率为</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">0.005<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">第</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">2</span><span style="font-size: 12pt;">次抽到的概率为</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">(1-0.005)*0.005<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">第</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">n</span><span style="font-size: 12pt;">次抽到的概率为</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">(1-0.005)^(n-1)*0.005<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">第</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">250</span><span style="font-size: 12pt;">抽到的概率为之前都没有抽到的概率，即</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">(1-0.005)^249<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">最终结果</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">1*0.005+2*(1-0.005)*0.005+…+n*(1-0.005)^(n-1)*0.005+…+250*(1-0.005)^249=142.88<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">&nbsp;</span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">数据规模：</span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;"><br></span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">请使用</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">double</span><span style="font-size: 12pt;">类型存储所有浮点数变量</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">对</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">60%</span><span style="font-size: 12pt;">的测试点，保证</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">k</span><span style="font-size: 12pt;">≤</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">1000</span><span style="font-size: 12pt;">，</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">对</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">100%</span><span style="font-size: 12pt;">的测试点，保证</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">k</span><span style="font-size: 12pt;">≤</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">1000000</span><span style="font-size: 12pt;">。</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><span style="font-size: 12pt;">如果程序过于低效，在</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;">k</span><span style="font-size: 12pt;">较大时会因超时而错误。</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif;"><o:p></o:p></span></p><p class="MsoNormal" style="margin: 0cm 0cm 0.0001pt; text-align: justify; font-size: 10.5pt; font-family: DengXian;"><br></p><span style="font-size: medium;"></span>