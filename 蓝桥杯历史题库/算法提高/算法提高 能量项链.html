<head>
    <meta charset="UTF-8">
<title>算法提高 能量项链</title>
<link rel="stylesheet" href="../css/main.css">
</head>
 <p class="MsoNormal" style="text-indent: 21pt; ">&nbsp;</p>
<div style="text-indent: 0px;">
<div>
<div>【问题描述】</div>
<div>在Mars星球上，每个Mars人都随身佩带着一串能量项链。在项链上有N颗能量珠。能量珠是一颗有头标记与尾标记的珠子，这些标记对应着某个正整数。并且，对于相邻的两颗珠子，前一颗珠子的尾标记一定等于后一颗珠子的头标记。因为只有这样，通过吸盘（吸盘是Mars人吸收能量的一种器官）的作用，这两颗珠子才能聚合成一颗珠子，同时释放出可以被吸盘吸收的能量。如果前一颗能量珠的头标记为m，尾标记为r，后一颗能量珠的头标记为r，尾标记为n，则聚合后释放的能量为m*r*n（Mars单位），新产生的珠子的头标记为m，尾标记为n。</div>
<div>需要时，Mars人就用吸盘夹住相邻的两颗珠子，通过聚合得到能量，直到项链上只剩下一颗珠子为止。显然，不同的聚合顺序得到的总能量是不同的，请你设计一个聚合顺序，使一串项链释放出的总能量最大。</div>
<div>例如：设N=4，4颗珠子的头标记与尾标记依次为(2，3) (3，5) (5，10) (10，2)。我们用记号&oplus;表示两颗珠子的聚合操作，(j&oplus;k)表示第j，k两颗珠子聚合后所释放的能量。则第4、1两颗珠子聚合后释放的能量为：</div>
<div>(4&oplus;1)=10*2*3=60。</div>
<div>这一串项链可以得到最优值的一个聚合顺序所释放的总能量为</div>
<div>((4&oplus;1)&oplus;2)&oplus;3）=10*2*3+10*3*5+10*5*10=710。</div>
<div>【输入格式】</div>
<div>输入的第一行是一个正整数N（4&le;N&le;100），表示项链上珠子的个数。第二行是N个用空格隔开的正整数，所有的数均不超过1000。第i个数为第i颗珠子的头标记（1&le;i&le;N），当i&lt;N时，第i颗珠子的尾标记应该等于第i+1颗珠子的头标记。第N颗珠子的尾标记应该等于第1颗珠子的头标记。</div>
<div>至于珠子的顺序，你可以这样确定：将项链放到桌面上，不要出现交叉，随意指定第一颗珠子，然后按顺时针方向确定其他珠子的顺序。</div>
<div>【输出格式】</div>
<div>输出只有一行，是一个正整数E（E&le;2.1*10<sup>9</sup>），为一个最优聚合顺序所释放的总能量。</div>
<div>【样例输入】</div>
<div>4</div>
<div>2 3 5 10</div>
<div>【样例输出】</div>
<div>710</div>
</div>
<div>&nbsp;</div>
</div>
<p>&nbsp;</p>
<p class="MsoNormal" style="text-indent:21.0pt;mso-char-indent-count:2.0;
line-height:18.0pt;mso-line-height-rule:exactly"><span lang="EN-US" style="mso-bidi-font-size:10.5pt;font-family:&quot;Courier New&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;"><o:p></o:p></span></p>